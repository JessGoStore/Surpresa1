<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Carta para o Amor üíå</title>
  <style>
    
    html, body {
      margin: 0; padding: 0; height: 100%;
      font-family: 'Arial', sans-serif;
      background-color: #fdfdfd;
      color: #fff;
      
    }

    .background-mosaic {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      display: grid;
      grid-template-columns: repeat(8, 1fr);
      grid-template-rows: repeat(6, 1fr);
      gap: 0;
      z-index: 0;
      opacity: 0.7;
      pointer-events: none;
    }
    .background-mosaic img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      filter: brightness(0.7);
      border-radius: 0;
      display: block;
    }

    .small { grid-column: span 1; grid-row: span 1; }
    .medium { grid-column: span 2; grid-row: span 2; }
    .large { grid-column: span 3; grid-row: span 3; }

    body {
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      position: relative;
      z-index: 10;
      height: 100vh;
      padding: 20px;
      box-sizing: border-box;
      text-align: center;
      min-height: 100vh;
      overflow-y: auto;
    }

    .envelope-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      z-index: 10;
    }

    .envelope-drawing {
      width: 400px;
      height: 240px ;
      background: #fff5f5;
      border: 4px solid #800000;
      border-radius: 10px;
      position: relative;
      box-shadow: 0 0 20px rgba(0,0,0,0.3);
      cursor: pointer;
      z-index: 10;
      transition: transform 0.4s ease;
    }

    .mosaic img {
      width: 100%;
      height: 100%;
      object-fit: contain; /* mostra a imagem inteira sem cortar */
      object-position: center top; /* opcional: alinha melhor os rostos */
      background-color: #000; /* ou outra cor de fundo, para as "bordas" */
    }

    #romantic-text {
      font-size: 50px;
    }

    .envelope-drawing:hover {
      transform: scale(1.05);
    }
    .envelope-drawing.opening {
      animation: openEnvelope 0.8s forwards;
  } 

@keyframes openEnvelope {
  0% { transform: scale(1) rotate(0deg); }
  100% { transform: scale(1.2) rotate(15deg) translateY(-40px); opacity: 0; }
}

    .seal {
      width: 150px;
      height: 150px;
      background-color: #8b0000;
      border-radius: 50%;
      position: absolute;
      top: calc(50% - 25px);
      left: calc(50% - 25px);
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 20px;
      color: #fff;
      transition: transform 0.3s;
      z-index: 11;
    }

    .seal:hover {
      transform: scale(1.1);
    }

    .instruction {
      margin-top: 20px;
      font-size: 18px;
      text-align: center;
      animation: pulse 1.5s infinite;
      z-index: 10;
        text-shadow: 
    -1px -1px 0 #000,  
     1px -1px 0 #000,
    -1px  1px 0 #000,
     1px  1px 0 #000;

    }

    @keyframes pulse {
      0% { opacity: 1; }
      50% { opacity: 0.5; }
      100% { opacity: 1; }
    }

    .card-content {
      display: none;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: 30px;
      max-width: 700px;
      animation: fadeIn 1.5s ease forwards;
      line-height: 1.6;
      font-size: 50px;
      background: rgba(0,0,0,0.5);
      border-radius: 10px;
      box-shadow: 0 0 25px rgba(0,0,0,0.7);
      z-index: 10;
      margin-top: 100px;
    }
   

    h1 {
      font-size: 2.5em;
      margin-bottom: 10px;
      color: #ffcccc;
    }

    hr {
      margin: 20px 0;
      border: 1px solid rgba(255,255,255,0.3);
      width: 80%;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @media screen and (max-width: 768px) {
      .card-content { font-size: 16px; padding: 20px; }
      .instruction { font-size: 16px; }
    }

    /* Bot√£o de controle de m√∫sica */
    .music-control {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background-color: rgba(0, 0, 0, 0.4);
      color: #fff;
      padding: 10px 14px;
      border-radius: 30px;
      cursor: pointer;
      font-size: 18px;
      z-index: 20;
      transition: background 0.3s, transform 0.2s;
      backdrop-filter: blur(6px);
    }

    .music-control:hover {
      background-color: rgba(0, 0, 0, 0.6);
      transform: scale(1.05);
    }
  </style>
</head>
<body>
  <div class="background-mosaic" id="background-mosaic"></div>

  <div class="envelope-container" id="part1">
    <div class="envelope-drawing" title="Clique para abrir">
      <div class="seal" onclick="goToNextPart()">‚úÇÔ∏è</div>
    </div>
    <div class="instruction">Clique aqui para passar para a pr√≥xima parte</div>
  </div>

  <div id="next-part" class="card-content">
    <h1>Feliz 3 Anos de Namoro! ‚ù§Ô∏è</h1>
    <p id="dynamic-text">
      <em>Tr√™s anos podem parecer pouco...</em><br><br>
      Mas estamos juntos h√° <span id="months"></span> meses, ou <span id="weeks"></span> semanas, que d√° <span id="days"></span> dias, <br>
      o que equivale a <span id="hours"></span> horas, ou <span id="minutes"></span> minutos, <br>
      e incr√≠veis <span id="seconds"></span> segundos.<br><br>
      Definitivamente... isso n√£o √© pouco tempo.
    </p>
    <hr>
    <!-- Bot√£o para mostrar o texto -->
    <button id="show-message-btn">Mostrar mensagem</button>
  
  <!-- Texto rom√¢ntico oculto inicialmente -->
    <div id="romantic-text" style="display:none; white-space: pre-line; margin-top: 20px;">
Hoje completamos tr√™s anos juntos, mozin.  
E eu me lembro perfeitamente do dia em que sa√≠ mais cedo do trabalho s√≥ pra te encontrar pela primeira vez.

Engra√ßado pensar que, naquela √©poca, eu nem sabia andar direito no centro sozinho‚Ä¶ e foi voc√™ quem me ensinou.  
Na verdade, foi voc√™ quem me encontrou, n√©? Kkkkk.  
Desci do √¥nibus e fiquei ali parado, em frente √† loja Pimenta Rosa‚Ä¶ at√© voc√™ chegar e me achar.  
Parece que foi ontem.  
Mas ao mesmo tempo, j√° faz um bom tempo, n√©?

Tr√™s anos que passaram voando.  
Tr√™s anos que parecem pouco quando comparados com tudo o que ainda temos pra viver juntos.  
E eu quero viver tudo isso com voc√™, amor. A vida toda. Inteira. Ao seu lado.

Temos tantos planos pra conquistar:  
Viagens pra fazer, sonhos pra realizar, coisas pra comprar, criar, construir, fazer acontecer.  
Temos uma casa pra montar do nosso jeitinho.  
(E v√™ se lembra de projetar com meu aqu√°rio no meio da sala, hein? Ou pelo menos na parede do banheiro kkkkk).  
Mas, claro, com todo o seu jeito lindo de planejar, pensar e deixar tudo maravilhoso.

Quero formar uma fam√≠lia linda com voc√™, meu amor.  
Voc√™ √© a mulher com quem eu quero isso. Com quem eu sonho. Desde o nosso primeiro beijo ali no ponto de √¥nibus no centro.  
E vai continuar sendo assim. Pra sempre.

Eu te amo, meu amor.  
Ou melhor, eu amo o que somos juntos.  
Amo como voc√™ √© maravilhosa.  
Amo como voc√™ simplificou tudo na minha vida, tornando tudo mais leve de viver.  
Amo a pessoa que eu sou ao seu lado.  
Amo cada sorriso seu, cada futico do nada ‚Äî seja pra dan√ßar, fazer doideira ou at√© pra limpar a casa.

Somos um casal maravilhoso. E eu desejo que isso dure pra sempre.  
Agrade√ßo todos os dias a Deus por ter me presenteado com voc√™ na minha vida.

Hoje √© dia 11 de junho.  
Tr√™s anos desde aquele pedido que me deixou todo nervoso (porque n√©‚Ä¶ eu sou t√≠mido que s√≥).  
Mas foi tudo t√£o lindo. E continua sendo at√© hoje.

A cada dia que passa, eu quero mais e mais estar ao seu lado.  
J√° n√£o vejo a hora da gente conquistar nosso cantinho ‚Äî mesmo que no come√ßo seja tempor√°rio ‚Äî at√© podermos construir a nossa casa, do nosso jeito.

Feliz 3 anos, meu amor.  
Voc√™ √© tudo pra mim. E sempre vai ser.
    </div>
  </div>

  <!-- M√∫sica -->
  <audio id="background-music" src="musica.mp3"  loop></audio>
  <div class="music-control" onclick="toggleMusic()" id="musicButton">üîä</div>
  



  <script>
    const photos = [
      '1.jpg', '0.jpg', '2.jpg', '3.jpg', '5.jpg',
      '6.jpg', '7.jpg', '8.jpg', '9.jpg', '10.jpg',
      '4.jpg', '11.jpg', '12.jpg', '13.jpg', '15.jpg',
      '16.jpg', '17.jpg', '18.jpg', '19.jpg', '14.jpg',
      '21.jpg', '20.jpg', '22.jpg', '23.jpg', '25.jpg',
      '26.jpg', '27.jpg', '28.jpg', '29.jpg', '30.jpg',
      '24.jpg', '31.jpg', '32.jpg', '33.jpg', '35.jpg',
      '36.jpg', '37.jpg', '38.jpg', '39.jpg', '34.jpg',
      '40.jpg', '41.jpg',
      '42.jpg', '43.jpg', '44.jpg', '45.jpg', '46.jpg'
    ];

    const mosaicContainer = document.getElementById('background-mosaic');
    const gridCols = 10, gridRows = 10;
    const grid = Array.from({ length: gridRows }, () => Array(gridCols).fill(false));
    const sizes = [
      { className: 'small', span: 1, weight: 60 },
      { className: 'medium', span: 2, weight: 30 },
      { className: 'large', span: 3, weight: 10 },
    ];

    function chooseSize() {
      const totalWeight = sizes.reduce((acc, s) => acc + s.weight, 0);
      let r = Math.random() * totalWeight;
      for (let s of sizes) {
        if (r < s.weight) return s;
        r -= s.weight;
      }
      return sizes[0];
    }

    function canPlace(row, col, span) {
      if (col + span > gridCols || row + span > gridRows) return false;
      for (let r = row; r < row + span; r++) {
        for (let c = col; c < col + span; c++) {
          if (grid[r][c]) return false;
        }
      }
      return true;
    }

    function occupy(row, col, span) {
      for (let r = row; r < row + span; r++) {
        for (let c = col; c < col + span; c++) {
          grid[r][c] = true;
        }
      }
    }

    const mosaicImages = [];
    let placed = 0;
    const totalToPlace = 50;

function createMosaic() {
  mosaicContainer.innerHTML = '';
  placed = 0;

  // Reinicia a grade
  for (let r = 0; r < gridRows; r++) {
    for (let c = 0; c < gridCols; c++) {
      grid[r][c] = false;
    }
  }

  mosaicImages.length = 0;

  // Primeiro, tenta colocar imagens maiores
  while (placed < totalToPlace) {
    const size = chooseSize();
    let tries = 0, placedHere = false;

    while (tries < 100 && !placedHere) {
      const row = Math.floor(Math.random() * gridRows);
      const col = Math.floor(Math.random() * gridCols);

      if (canPlace(row, col, size.span)) {
        const img = document.createElement('img');
        img.src = photos[placed % photos.length];
        img.alt = 'Foto mosaico';
        img.onerror = () => {
          console.error('Erro ao carregar imagem:', img.src);
          img.style.display = 'none'; // esconde o espa√ßo em branco
        };

        img.classList.add(size.className);
        img.style.gridColumn = `${col + 1} / span ${size.span}`;
        img.style.gridRow = `${row + 1} / span ${size.span}`;
        mosaicContainer.appendChild(img);
        occupy(row, col, size.span);
        mosaicImages.push(img);
        placed++;
        placedHere = true;
      }
      tries++;
    }

    if (!placedHere) break; // se n√£o conseguiu colocar nenhuma imagem, para
  }

  // Agora preenche qualquer espa√ßo vazio com imagens pequenas
  for (let r = 0; r < gridRows; r++) {
    for (let c = 0; c < gridCols; c++) {
      if (!grid[r][c]) {
        const img = document.createElement('img');
        img.src = photos[placed % photos.length];
        img.alt = 'Foto mosaico';
        img.classList.add('small');
        img.style.gridColumn = `${c + 1} / span 1`;
        img.style.gridRow = `${r + 1} / span 1`;
        mosaicContainer.appendChild(img);
        occupy(r, c, 1);
        mosaicImages.push(img);
        placed++;
      }
    }
  }
}

    createMosaic();
    setInterval(() => {
      for (let i = 0; i < mosaicImages.length; i++) {
        const currentIndex = photos.indexOf(mosaicImages[i].src.split('/').pop());
        const nextIndex = (currentIndex + 1) % photos.length;
        mosaicImages[i].src = photos[nextIndex];
      }
    }, 5000);


    function monthsDiff(d1, d2) {
      let months = (d2.getFullYear() - d1.getFullYear()) * 12;
      months += d2.getMonth() - d1.getMonth();
      if (d2.getDate() < d1.getDate()) months--;
      return months;
    }

    function updateTimeCounters() {
      const startDate = new Date(2022, 5, 11); // 11 de junho de 2022 (meses baseados em 0)
      const now = new Date();
      const diffMs = now - startDate;

      const seconds = Math.floor(diffMs / 1000);
      const minutes = Math.floor(seconds / 60);
      const hours = Math.floor(minutes / 60);
      const days = Math.floor(hours / 24);
      const weeks = Math.floor(days / 7);
      const months = monthsDiff(startDate, now);

      document.getElementById('seconds').textContent = seconds.toLocaleString();
      document.getElementById('minutes').textContent = minutes.toLocaleString();
      document.getElementById('hours').textContent = hours.toLocaleString();
      document.getElementById('days').textContent = days.toLocaleString();
      document.getElementById('weeks').textContent = weeks.toLocaleString();
      document.getElementById('months').textContent = months.toLocaleString();
    }

// Atualiza os contadores ao carregar a p√°gina e a cada segundo
    updateTimeCounters();
    setInterval(updateTimeCounters, 1000);

    // Bot√£o para mostrar/ocultar mensagem rom√¢ntica
    const btn = document.getElementById('show-message-btn');
    const romanticText = document.getElementById('romantic-text');

    btn.addEventListener('click', () => {
      if (romanticText.style.display === 'none') {
        romanticText.style.display = 'block';
        btn.textContent = 'Ocultar mensagem';
      } else {
        romanticText.style.display = 'none';
        btn.textContent = 'Mostrar mensagem';
      }
    });

    function goToNextPart() {
      const envelopeContainer = document.getElementById('part1');
      const nextPart = document.getElementById('next-part');

  // anima√ß√£o para abrir o envelope
      const envelope = envelopeContainer.querySelector('.envelope-drawing');
      envelope.classList.add('opening');

  // ap√≥s a anima√ß√£o, esconde o envelope e mostra a carta
      setTimeout(() => {
        envelopeContainer.style.display = 'none';
        nextPart.style.display = 'flex';
      }, 800);
    }

// Controle da m√∫sica de fundo
    const music = document.getElementById('background-music');
    const musicButton = document.getElementById('musicButton');

    function toggleMusic() {
    if (music.paused) {
        music.play();
        musicButton.textContent = 'üîä';
    } else {
      music.pause();
      musicButton.textContent = 'üîà';
    }
    function tocarMusica() {
      const audio = document.getElementById('background-music');
    if (audio.paused) {
        audio.play();
      } else {
        audio.pause();
      }
    }



}



  </script>
</body>
</html>
